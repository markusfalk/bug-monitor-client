/**!
  Bug Monitor Client
  @author: mail@markus-falk.com
  @url: https://github.com/markusfalk/bug-monitor-client/
  @license AGPL-3.0
*/
!function(e,t){"strict mode";var o=e.bugMonitorClientConfigDefault,n=function(e,t){"info"===e&&o.verbose?console.info(t):"warn"===e&&o.verbose?console.warn(t):"error"===e&&console.error(t)},r=function(r,i){var u={};u.customFields=o.customFields,u.column=i.column,u.line=i.line,u.message=i.message,u.url=i.url,i.errorObject&&(u.stack=i.errorObject.stack),u.language=t.language,u.userAgent=t.userAgent,u.innerHeight=e.innerHeight,u.innerWidth=e.innerWidth;var s=new XMLHttpRequest;s.open(o.httpMethod,o.bugMonitorUrl,!0),s.timeout=o.timeout,s.setRequestHeader("Content-type","application/json"),s.onload=function(e){switch(e.currentTarget.status){case 404:n("warn","The bug-monitor-client could not find your back-end! ("+e.currentTarget.status+": "+e.currentTarget.statusText+")");break;case 200:n("info","The bug-monitor-client successfully reported an error to "+o.bugMonitorUrl)}},s.ontimeout=function(e){n("warn","The bug-monitor back-end timed out. "+e)},s.send(JSON.stringify(u))},i=function(){e.onerror=function(e,t,o,n,i){return!e.toLowerCase().indexOf("script error")>-1&&r(0,{message:e,url:t,line:o,column:n,errorObject:i}),!1}},u=function(){var e=!0;try{if(""===o.bugMonitorUrl)throw new Error("No url set for bug-monitor-client! Add bugMonitorUrl option to your setup: setBugMonitorClientConfigDefaultValue('bugMonitorUrl', 'http://your-url.com');")}catch(e){n("error",e)}return o.disabled&&(n("info","The bug-monitor-client script has been disabled on this page."),e=!1),e};o={bugMonitorUrl:"",customFields:{},disabled:!1,httpMethod:"POST",timeout:2e3,verbose:!0},e.setBugMonitorClientConfigDefaultValue=function(e,t){o.hasOwnProperty(e)?o[e]=t:o.customFields[e]=t},document.addEventListener("DOMContentLoaded",function(){u()&&i()})}(window,navigator);